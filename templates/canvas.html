<html>
<head>
<title>Smart Cart</title>
<!-- Latest compiled and minified CSS -->
 <link href="../static/bootstrap/css/bootstrap_lux.min.css" rel="stylesheet">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<style>
footer {
      background-color: black;
      color: white;
      padding: 15px;
       position: fixed;
    height: 50px;
    bottom: 0px;
    left: 0px;
    right: 0px;
    margin-bottom: 0px;
    }
    body {
    margin-bottom:50px;
}
</style>

</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
                <a class="navbar-brand" href="#">Smart Cart</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarColor01">
                  <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                      <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#">About</a>
                    </li>
                  </ul>
                  <ul class="nav navbar-nav navbar-right">
     <!-- <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li> -->
      <li class="nav-item"><a class="nav-link" href="#" data-toggle="modal" data-target="#myModal"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
    </ul>
                </div>
              </nav>
<div class="container">
<br><br>
<center>	
<canvas id="myCanvas" width="500" height="500" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>
</center>


 
 
</div>


<div class="modal" id="myModal">
                <div class="modal-dialog modal-sm" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title">Admin Login</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <form action="/action_page.php">
  <div class="form-group">
    <label for="email">Email address:</label>
    <input type="email" class="form-control" id="email" required="true">
  </div>
  <div class="form-group">
    <label for="pwd">Password:</label>
    <input type="password" class="form-control" id="pwd" required="true">
  </div>
  <button type="submit" class="btn btn-default">Submit</button>
</form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                  </div>
                </div>
              </div>

<footer class="container-fluid">
  <center><p>Copyright © SMART CART SAP Labs</p></center>
</footer>	
<script>
var x=0;
var y=0;
var posX=100;
var posY=400;
var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
ctx.rect(20,20,460,460);
ctx.stroke();
window.onload = function() {
 fetch("http://localhost:5000/getPosition/15").then(response => {
  return response.json();
}).then(data => {
  // Work with JSON data here
  //console.log(responseText);

 var positionData=JSON.parse(data["data"]);
 x=positionData.x;
 y=positionData.y;
ctx.moveTo(x+posX,posY-y);

}).catch(err => {
  // Do something for an error here
});
   
};
window.setInterval(function(){

 
  fetch("http://localhost:5000/getPosition/15").then(response => {
  return response.json();
}).then(data => {
  // Work with JSON data here
  //console.log(responseText);

ctx.arc(x+posX, posY-y, 4, 0, 2 * Math.PI);
ctx.fillStyle = "#FFFFFF";
ctx.fill();
ctx.moveTo(x+posX,posY-y);

 var positionData=JSON.parse(data["data"]);
 x=positionData.x;
 y=positionData.y;
ctx.lineTo(x+posX,posY-y);
ctx.fillStyle = "#000000";
ctx.stroke();

ctx.beginPath();
ctx.arc(x+posX, posY-y, 3, 0, 2 * Math.PI);
ctx.fill();



}).catch(err => {
  // Do something for an error here
});
  
  /// call your function here
}, 5000);

 
  </script>
</body>
</html>